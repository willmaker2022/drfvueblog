{"version":3,"sources":["webpack:///./src/components/elsta.vue?65fc","webpack:///./src/components/elsta.vue","webpack:///./src/components/elsta.vue?a70e"],"names":["style","class","span","searchInfo","placeholder","clearable","goback","align","type","search","data","elstadata","border","editCell","highlight-current-row","prop","label","formatter","formatStatus","default","scope","row","tbremark","remark","commitCell","column","currentPage","page-count","pageCount","layout","total","currentChange","name","methods","a","get","params","res","count","results","status","getelsta","then","Math","ceil","getelstaPage","page","CurrentChange","this","col","property","val","patchStorge","item","console","log","patch","orderid","id","created","__exports__","render"],"mappings":"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","file":"js/chunk-882b56fa.507a633d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./elsta.vue?vue&type=style&index=0&id=1f35631a&scoped=true&lang=css\"","<template>\r\n    <el-container style=\"background: white\">\r\n        <el-header style=\"padding-bottom: 0px;padding-top: 20px; padding-left: 20px\">\r\n            <!--    搜索框和按钮-->\r\n            <el-col :span=\"6\">\r\n                <el-input\r\n                        v-model=\"searchInfo\"\r\n                        placeholder=\"输入检索的内容\"\r\n                        clearable\r\n                        @clear=\"goback\"\r\n                />\r\n            </el-col>\r\n            <el-col :span=\"18\" align=\"left\">\r\n                <el-button type='primary' @click=\"search\">搜索</el-button>\r\n                <span style=\"font-size: 20px; padding-left: 20px; font-weight:bolder\">电路板状态</span>\r\n            </el-col>\r\n        </el-header>\r\n        <el-main>\r\n            <!--        数据列表-->\r\n            <el-table :data=\"elstadata\" border style=\"width: 100%\"\r\n                      @cell-dblclick=\"editCell\"\r\n                      highlight-current-row>\r\n                <!--            <el-table-column prop=\"id\" label=\"编号\" />-->\r\n                <el-table-column prop=\"orderid.orderid\" label=\"订单号\"/>\r\n                <el-table-column prop=\"orderid.customer\" label=\"客户名称\"/>\r\n                <el-table-column prop=\"orderid.serial\" label=\"序列号\"/>\r\n                <el-table-column prop=\"startday\" label=\"开始日期\"/>\r\n                <el-table-column prop=\"endday\" label=\"交货日期\"/>\r\n                <el-table-column prop=\"status\" label=\"状态\" :formatter=\"formatStatus\"/>\r\n                <el-table-column prop=\"remark\" label=\"备注\">\r\n                    <template v-slot:default=\"scope\">\r\n                        <el-input v-model=scope.row.remark v-if=\"scope.row.tbremark\"\r\n                                  @blur=\"commitCell(scope.row,scope.row.remark,scope.column)\">\r\n                        </el-input>\r\n                        <span v-else>{{scope.row.remark}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n\r\n            </el-table>\r\n            <!--页码-->\r\n            <div class=\"demo-pagination-block\">\r\n                <el-pagination\r\n                        v-model:currentPage=\"currentPage\"\r\n                        v-model:page-count=\"pageCount\"\r\n                        layout=\"total, prev, pager, next\"\r\n                        v-model:total=\"total\"\r\n                        @current-change=\"currentChange\"\r\n                >\r\n                </el-pagination>\r\n            </div>\r\n        </el-main>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\n    import axios from \"axios\";\r\n\r\n    export default {\r\n        name: \"elsta\",\r\n        data() {\r\n            return {\r\n                elstadata: [],\r\n                searchInfo: '',\r\n                currentPage: 1,\r\n                total: 0,\r\n                pageCount: 0,\r\n            }\r\n        },\r\n        methods: {\r\n            // 检索，待细化\r\n            async search() {\r\n                var res = await axios.get('/api/home/processelprepare/', {\r\n                    params: {\r\n                        search: this.searchInfo\r\n                    }\r\n                })\r\n                if (res.data.count !== 0) {\r\n                    this.elstadata = res.data.results\r\n                } else {\r\n                    this.elstadata = []\r\n                }\r\n            },\r\n            //修改订单状态显示\r\n            formatStatus(row) {\r\n                if (row.status === 'process') {\r\n                    return \"进行中\";\r\n                }\r\n                if (row.status === 'finish') {\r\n                    return \"已完成\";\r\n                }\r\n                if (row.status === 'pending') {\r\n                    return \"未开始\";\r\n                }\r\n            },\r\n            getelsta() {\r\n                axios.get('/api/home/processelprepare/').then(res => {\r\n                    this.elstadata = res.data.results;\r\n                    this.total = res.data.count;\r\n                    this.pageCount = Math.ceil(this.total / 16);\r\n                })\r\n            },\r\n            getelstaPage(page) {\r\n                axios.get('/api/home/processelprepare/', {\r\n                    params: {\r\n                        page: page\r\n                    }\r\n                }).then(res => {\r\n                    this.elstadata = res.data.results;\r\n                })\r\n            },\r\n            CurrentChange(currentPage) {\r\n                this.getelstaPage(currentPage);\r\n            },\r\n            // 页码变化\r\n            currentChange(page) {\r\n                this.currentPage = page;\r\n                this.getelstaPage(page);\r\n            },\r\n            goback() {\r\n                this.getelstaPage(this.currentPage)\r\n            },\r\n            //双击编辑备注内容\r\n            editCell(row, col) {\r\n                if (col.property === 'remark') {\r\n                    row.tbremark = true;\r\n                }\r\n            },\r\n            commitCell(row, val, col) {\r\n                if (col.property === 'remark') {\r\n                    row.tbremark = false;\r\n                    delete row.tbremark\r\n                }\r\n                this.patchStorge(col.property, val, row)\r\n            },\r\n            patchStorge(item, val, row) {\r\n                var data = {}\r\n                data[item] = val\r\n                console.log(row)\r\n                axios.patch('/api/home/processelprepare/' + row.orderid.id + '/', data)\r\n            },\r\n        },\r\n        // 初始化是时导入出库记录表\r\n        created() {\r\n            this.getelsta();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .el-row {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    ::v-deep .el-table__body tr.current-row > td {\r\n        background-color: #95d475 !important;\r\n    }\r\n\r\n    .el-table >>> th {\r\n        padding: 10px;\r\n    }\r\n\r\n    .el-table >>> td {\r\n        padding: 10px;\r\n    }\r\n\r\n    .el-header {\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        vertical-align: middle;\r\n    }\r\n</style>","import { render } from \"./elsta.vue?vue&type=template&id=1f35631a&scoped=true\"\nimport script from \"./elsta.vue?vue&type=script&lang=js\"\nexport * from \"./elsta.vue?vue&type=script&lang=js\"\n\nimport \"./elsta.vue?vue&type=style&index=0&id=1f35631a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\coding\\\\drfvueblog\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f35631a\"]])\n\nexport default __exports__"],"sourceRoot":""}